// Test compound assignment to array elements: arr[i] += expr, arr[i] -= expr, etc.
fn main() {
    var result = 0;
    
    // Basic array compound assign with literal index
    var arr = [10, 20, 30, 40];
    arr[0] += 5;    // arr[0] = 10 + 5 = 15
    arr[1] -= 3;    // arr[1] = 20 - 3 = 17
    arr[2] *= 2;    // arr[2] = 30 * 2 = 60
    arr[3] /= 4;    // arr[3] = 40 / 4 = 10
    
    result = arr[0] + arr[1] + arr[2] + arr[3]; // 15 + 17 + 60 + 10 = 102
    
    // Compound assign with variable index
    var i = 0;
    arr[i] += 10;   // arr[0] = 15 + 10 = 25
    result = result + arr[0]; // 102 + 25 = 127
    
    // Bitwise compound assign on array
    var bits = [15, 3, 1, 32];
    bits[0] &= 6;   // 15 & 6 = 6
    bits[1] |= 12;  // 3 | 12 = 15
    bits[2] <<= 3;  // 1 << 3 = 8
    bits[3] >>= 2;  // 32 >> 2 = 8
    
    result = result + bits[0] + bits[1] + bits[2] + bits[3]; // 127 + 6 + 15 + 8 + 8 = 164
    
    return result;  // 164
}
