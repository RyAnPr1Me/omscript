// Test that 0/0 produces a runtime division-by-zero error even in OPTMAX mode.
// Before the fix, the OPTMAX optimizer folded `0 / x â†’ 0`, which incorrectly
// suppressed the division-by-zero runtime error when x was also 0.
OPTMAX=:
fn optmax_div_zero(x: int) {
    return 0 / x;
}
OPTMAX!:

fn main() {
    // This should trigger a runtime division-by-zero error
    var result = optmax_div_zero(0);
    return result;
}
